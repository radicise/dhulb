#require "DhulbArray"
#import "alloc"

struct Array<T> {
    a64 address;
    u64 length;
    u64 itemSize;
    Array<T> constructor ( u64 size ) {
        length = size;
        itemSize = sizeOf ( T );
        address = malloc ( size * itemSize );
    }
    T getItem ( u64 idx ) {
        return *(address+(idx*itemSize));
    }
    ! setItem ( T item ) {
        *(address+(idx*itemsize)) = item;
    }
    destroy () {
        free(address);
    }
}